<html>

<head>
  <style type="text/css">
    body {
      font-size: 16px;
    }

    .popup{
      width: 200px;
      height: 120px;
      position: absolute;
      left: 50%;
      top: 50%;
      background-color: white;
      margin-left: -100px;
      margin-top: -60px;
      z-index: 100;
    }
  </style>
</head>

<body>
  <h1>test</h1>
  <div id="app">test function CR2; arguments is "[[1,3], [2,4], [5,6]], 2"</div>
  <div id="array-label">CR2 return array: <span id="array"></span></div>
  <div id="result-label">result: <span id="result"></span></div>
  <button id="confirm">calculate</button>
  <script type="text/javascript">
    var testArray = [[1,3], [2,4], [5,6]];
    var num = 2;
    var resultDom = document.querySelector('#result');
    var arrayDom = document.querySelector('#array');
    var confirmDom = document.querySelector('#confirm');
    
    var CR2 = function(arr, num) {
      var result = [],
        rec = function(arr, result, current, start, num) {
          var m, l = arr.length - num,
            i, j;
          for (i = start; i <= l; i++) {
            for (j = 0; j < arr[i].length; j++) {
              m = current.slice(0);
              m.push(arr[i][j]);
              if (num == 1) {
                result.push(m);
              } else {
                rec(arr, result, m, i + 1, num - 1)
              }
            };
          }
        }
      rec(arr, result, [], 0, Â num || arr.length);
      return result;
    };
    
    var calculate = function(arr) {
      var sum = 0;
      var tmp;
      for(var i =0;i<arr.length;i++) {
        tmp = 1;
        for(var j=0;j<arr[i].length;j++) {
          tmp = tmp * arr[i][j]
        }
        sum = sum + tmp;
      }
      return sum;
    }
    
    var showPopup = function(text) {
      var curDom = document.querySelector('.popup');
      if(!curDom) {
        var curDom = document.createElement('div');
        curDom.className = "popup";
        curDom.innerText=text;
        document.body.appendChild(curDom);
      } else {
        curDom.innerHtml='<span>' + text + '</span>';
        curDom.style.display = 'block';
      }
    }
    
    confirmDom.addEventListener('click', function(e){
      var arr = CR2(testArray, num);
      var result = calculate(arr);
      resultDom.innerText = result;
      arrayDom.innerText = JSON.stringify(arr);
      showPopup('The result is ' + result);
    });
  </script>
</body>

</html>